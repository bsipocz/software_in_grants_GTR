<?xml version="1.0" encoding="UTF-8"?>
<gtr:projectOverview xmlns:gtr="http://gtr.ukri.org/api"><gtr:projectComposition><gtr:collaborations><gtr:collaborator url="http://gtr.ukri.org:80/organisation/3EAE04CA-9D62-4483-B9C4-F91AD9F4C5A9"><gtr:id>3EAE04CA-9D62-4483-B9C4-F91AD9F4C5A9</gtr:id><gtr:name>University of Oxford</gtr:name><gtr:address><gtr:line1>University Chest</gtr:line1><gtr:line2>Wellington Square</gtr:line2><gtr:line4>Oxford</gtr:line4><gtr:postCode>OX1 2JD</gtr:postCode><gtr:region>South East</gtr:region><gtr:country>United Kingdom</gtr:country></gtr:address></gtr:collaborator><gtr:collaborator url="http://gtr.ukri.org:80/organisation/92BED6E6-D64C-46AC-9396-87F84F3A232C"><gtr:id>92BED6E6-D64C-46AC-9396-87F84F3A232C</gtr:id><gtr:name>Intel Corporation</gtr:name><gtr:address><gtr:line1>2200 Mission College Blvd</gtr:line1><gtr:line2>PO Box 58119</gtr:line2><gtr:line4>Santa Clara</gtr:line4><gtr:line5>CA 95052-8119</gtr:line5><gtr:region>Outside UK</gtr:region><gtr:country>United States</gtr:country></gtr:address></gtr:collaborator></gtr:collaborations><gtr:leadResearchOrganisation url="http://gtr.ukri.org:80/organisation/4A348A76-B2D0-4DDD-804A-CE735A6D3798"><gtr:id>4A348A76-B2D0-4DDD-804A-CE735A6D3798</gtr:id><gtr:name>University of Bristol</gtr:name><gtr:department>Computer Science</gtr:department><gtr:address><gtr:line1>Senate House</gtr:line1><gtr:line4>Bristol</gtr:line4><gtr:line5>Avon</gtr:line5><gtr:postCode>BS8 1TH</gtr:postCode><gtr:region>South West</gtr:region><gtr:country>United Kingdom</gtr:country></gtr:address><gtr:typeInd>RO</gtr:typeInd></gtr:leadResearchOrganisation><gtr:organisationRoles><gtr:organisationRole url="http://gtr.ukri.org:80/organisation/4A348A76-B2D0-4DDD-804A-CE735A6D3798"><gtr:id>4A348A76-B2D0-4DDD-804A-CE735A6D3798</gtr:id><gtr:name>University of Bristol</gtr:name><gtr:address><gtr:line1>Senate House</gtr:line1><gtr:line4>Bristol</gtr:line4><gtr:line5>Avon</gtr:line5><gtr:postCode>BS8 1TH</gtr:postCode><gtr:region>South West</gtr:region><gtr:country>United Kingdom</gtr:country></gtr:address><gtr:roles><gtr:role><gtr:name>LEAD_RO</gtr:name></gtr:role></gtr:roles></gtr:organisationRole><gtr:organisationRole url="http://gtr.ukri.org:80/organisation/3EAE04CA-9D62-4483-B9C4-F91AD9F4C5A9"><gtr:id>3EAE04CA-9D62-4483-B9C4-F91AD9F4C5A9</gtr:id><gtr:name>University of Oxford</gtr:name><gtr:address><gtr:line1>University Chest</gtr:line1><gtr:line2>Wellington Square</gtr:line2><gtr:line4>Oxford</gtr:line4><gtr:postCode>OX1 2JD</gtr:postCode><gtr:region>South East</gtr:region><gtr:country>United Kingdom</gtr:country></gtr:address><gtr:roles><gtr:role><gtr:name>COLLABORATOR</gtr:name></gtr:role></gtr:roles></gtr:organisationRole><gtr:organisationRole url="http://gtr.ukri.org:80/organisation/92BED6E6-D64C-46AC-9396-87F84F3A232C"><gtr:id>92BED6E6-D64C-46AC-9396-87F84F3A232C</gtr:id><gtr:name>Intel Corporation</gtr:name><gtr:address><gtr:line1>2200 Mission College Blvd</gtr:line1><gtr:line2>PO Box 58119</gtr:line2><gtr:line4>Santa Clara</gtr:line4><gtr:line5>CA 95052-8119</gtr:line5><gtr:region>Outside UK</gtr:region><gtr:country>United States</gtr:country></gtr:address><gtr:roles><gtr:role><gtr:name>COLLABORATOR</gtr:name></gtr:role></gtr:roles></gtr:organisationRole></gtr:organisationRoles><gtr:personRoles><gtr:personRole url="http://gtr.ukri.org:80/person/097E3267-16D3-48A9-A31E-63E309FACBCE"><gtr:id>097E3267-16D3-48A9-A31E-63E309FACBCE</gtr:id><gtr:firstName>Simon</gtr:firstName><gtr:surname>McIntosh-Smith</gtr:surname><gtr:roles><gtr:role><gtr:name>PRINCIPAL_INVESTIGATOR</gtr:name></gtr:role></gtr:roles></gtr:personRole><gtr:personRole url="http://gtr.ukri.org:80/person/84F79D84-4023-4ECF-AC89-F265FAAEED4B"><gtr:id>84F79D84-4023-4ECF-AC89-F265FAAEED4B</gtr:id><gtr:firstName>Christian</gtr:firstName><gtr:otherNames>B</gtr:otherNames><gtr:surname>Allen</gtr:surname><gtr:roles><gtr:role><gtr:name>CO_INVESTIGATOR</gtr:name></gtr:role></gtr:roles></gtr:personRole></gtr:personRoles><gtr:project url="http://gtr.ukri.org:80/projects?ref=EP%2FK038486%2F1"><gtr:id>D6F33F38-A9AA-4EF0-90CF-831D1B24FEED</gtr:id><gtr:title>Future-proof massively-parallel execution of multi-block applications</gtr:title><gtr:status>Closed</gtr:status><gtr:grantCategory>Research Grant</gtr:grantCategory><gtr:grantReference>EP/K038486/1</gtr:grantReference><gtr:abstractText>For many years, increasing the clock frequency of microprocessors has led to steady improvements in performance of computer applications. This gave an almost free performance boost to the speed of applications without having to re-write software for each new generation of processors. However, increasing the performance of processors in this manner led to an unsustainable increase in energy consumption. Thus, to gain higher performance chip developers now rely on multiple cores operating in parallel. The latest CPUs have up to 10 cores, each with a vector unit producing up to 8 single precision floating point results per clock cycle, while the latest graphics processors (GPUs) have up to 2688 much simpler cores operating in groups of 32.

This move into manycore computing has led to considerable hardware innovation, and it is likely that the next 10 years will see further rapid evolution in computer architectures. This poses huge challenges to application developers who naturally wish to concentrate on their engineering and scientific applications and how best to model them, without having to worry about the details of modern computer architectures. To address this, there are a range of efforts within scientific computing to develop high-level software packages or frameworks so that the application developer can specify what they want to be computed at a high level, and then the package takes care of the implementation details.

Building on prior EPSRC-funded research to develop a framework called OP2 for unstructured grid applications, this proposal aims to develop a future-proof extension called OPS to handle the needs of multi-block structured grid applications. Developers' applications can be written in FORTRAN or C, using a carefully-designed application programming interface (API), and then OPS generates customised code for the implementation on different hardware target platforms.

As well as customising for the different hardware, two other optimisation approaches will be adopted. One is the use of ``tiling'' to overlap the execution of parallel loops which are usually executed sequentially. This improves both performance and energy efficiency by reusing data within the cache, cutting down on the number of times data is moved between the processor and the main memory. This is something which is becoming increasingly important on modern architectures because the energy cost and time taken for data movement is much greater than for floating point operations. 

The other optimisation is the use of run-time optimisation for applications which execute for a long time. The backend implementations are parameterised, with parameters controlling aspects such as the number of threads in a thread block, or the size of a ``tile'' in the tiling optimisation. The optimal values for these parameters are not known a priori, and it could significantly affect the performance. By dynamically varying the values, and timing the consequential changes in performance, we can implement heuristics to iteratively improve the parameter values during the execution.

The new OPS framework will be assessed, both for performance and ease-of-use, by applying it to two important academic CFD codes, ROTOR developed at Bristol by Prof. Chris Allen, and SBLI developed by at Southampton by Prof. Neil Sandham. As well as being important codes in their own right, these are also representative of the needs of other codes within CCP12 (Computational Engineering), the UK Turbulence Consortium, and the UK Applied Aerodynamics Consortium.</gtr:abstractText><gtr:fund><gtr:end>2017-03-31</gtr:end><gtr:funder url="http://gtr.ukri.org:80/organisation/798CB33D-C79E-4578-83F2-72606407192C"><gtr:id>798CB33D-C79E-4578-83F2-72606407192C</gtr:id><gtr:name>EPSRC</gtr:name></gtr:funder><gtr:start>2013-10-01</gtr:start><gtr:type>INCOME_ACTUAL</gtr:type><gtr:valuePounds>270617</gtr:valuePounds></gtr:fund><gtr:output><gtr:artisticAndCreativeProductOutputs/><gtr:collaborationOutputs><gtr:collaborationOutput><gtr:collaboratingOrganisation>University of Oxford</gtr:collaboratingOrganisation><gtr:country>United Kingdom of Great Britain &amp; Northern Ireland (UK)</gtr:country><gtr:description>Mini-app consortium</gtr:description><gtr:id>BE74266F-E02B-40BE-A883-BEBF8B1B05B1</gtr:id><gtr:impact>Joint papers, creation of mini-app consortium, annual UK Many-core Developer workshops.</gtr:impact><gtr:outcomeId>5464745f17dc84.49936012-1</gtr:outcomeId><gtr:partnerContribution>Joint publications, workshops, meetings, both in the UK and internationally.</gtr:partnerContribution><gtr:piContribution>Joint publications, workshops, meetings, both in the UK and internationally.</gtr:piContribution><gtr:sector>Academic/University</gtr:sector><gtr:start>2012-01-01</gtr:start></gtr:collaborationOutput><gtr:collaborationOutput><gtr:collaboratingOrganisation>Intel Corporation</gtr:collaboratingOrganisation><gtr:country>United States of America</gtr:country><gtr:description>Intel Parallel Computing Center (IPCC)</gtr:description><gtr:id>5C314291-D1AE-4A27-8F52-44C352A60C97</gtr:id><gtr:impact>Papers, presentations, invitations for research visits, internships etc.</gtr:impact><gtr:outcomeId>56ddaeead21300.19100457-1</gtr:outcomeId><gtr:partnerContribution>Intel have provided funding, personnel, advice, code porting assistance, and access to pre-release hardware.</gtr:partnerContribution><gtr:piContribution>Working with Intel, using the techniques developed as part of this award, we have ported our software to Intel's next generation, massively parallel computer architectures, such as the Xeon Phi.</gtr:piContribution><gtr:sector>Private</gtr:sector><gtr:start>2014-01-01</gtr:start></gtr:collaborationOutput></gtr:collaborationOutputs><gtr:disseminationOutputs/><gtr:exploitationOutputs/><gtr:furtherFundingOutputs/><gtr:impactSummaryOutputs><gtr:impactSummaryOutput><gtr:description>Demonstrated that performance portable applications are possible, and so caused Intel to parter with us and fund a new parallel computing centre in Bristol.</gtr:description><gtr:firstYearOfImpact>2014</gtr:firstYearOfImpact><gtr:id>2017B972-B468-4906-A3D7-2343E6E5CC0D</gtr:id><gtr:impactTypes><gtr:impactType>Economic</gtr:impactType></gtr:impactTypes><gtr:outcomeId>56ddb36d976525.90394833</gtr:outcomeId><gtr:sector>Aerospace, Defence and Marine,Digital/Communication/Information Technologies (including Software)</gtr:sector></gtr:impactSummaryOutput></gtr:impactSummaryOutputs><gtr:intellectualPropertyOutputs/><gtr:keyFindingsOutput><gtr:description>In this award we explored whether is it possible to develop new scientific software in such a way that the software would run quickly and efficiently on a diverse range of new supercomputers. This isn't possible today, with specialised versions of software being optimised for each type of supercomputer. The current approach is very time consuming, expensive, and error prone. We have now demonstrated that it is possible to develop scientific software which is &amp;quot;performance portable&amp;quot; across a wide variety of very diverse supercomputer architectures, such as GPUs from Nvidia or AMD, or CPUs from Intel or ARM.</gtr:description><gtr:exploitationPathways>Others could use similar techniques to those developed by us to create their own performance portable software applications.</gtr:exploitationPathways><gtr:id>FF993860-E87E-4761-B142-2560A88ADBDB</gtr:id><gtr:outcomeId>56ddb2f85da137.69648941</gtr:outcomeId><gtr:sectors><gtr:sector>Aerospace, Defence and Marine,Creative Economy,Digital/Communication/Information Technologies (including Software),Education,Electronics,Energy,Financial Services, and Management Consultancy,Manufacturing, including Industrial Biotechology,Pharmaceuticals and Medical Biotechnology</gtr:sector></gtr:sectors></gtr:keyFindingsOutput><gtr:otherResearchOutputs/><gtr:policyInfluenceOutputs/><gtr:productOutputs/><gtr:researchDatabaseAndModelOutputs/><gtr:researchMaterialOutputs/><gtr:softwareAndTechnicalProductOutputs><gtr:softwareAndTechnicalProductOutput><gtr:description>ROTORSIM is a structured grid, multiblock, compressible finite-volume computational fluid dynamics (CFD) code developed by Prof. Christian Allen, head of the Bristol Aerodynamics research group. This award has contributed a new design for the code to make it highly performance portable, and uses OpenCL so that it can exploit modern GPUs and Intel Xeon Phi to achieve much higher performance on next generation supercomputers.</gtr:description><gtr:id>C6C9F323-1EDD-4928-90B8-A464301DE624</gtr:id><gtr:impact>ROTORSIM is also being used as one of the new benchmarks in the FP7 Mont Blanc European Exascale research project, making it one of the first applications to run at large scale on an ARM-based supercomputer.

ROTORSIM is one of the few applications to run at extremely large scale on the Titan supercomputer at Oak Ridge national laboratory in the USA.

ROTORSIM also helped form the basis of the first phase of the Intel Parallel Computing Center at the University of Bristol.</gtr:impact><gtr:outcomeId>56ddb1061a9ff3.56489408</gtr:outcomeId><gtr:title>ROTORSIM</gtr:title><gtr:type>Software</gtr:type><gtr:yearFirstProvided>2016</gtr:yearFirstProvided></gtr:softwareAndTechnicalProductOutput></gtr:softwareAndTechnicalProductOutputs><gtr:spinOutOutputs/></gtr:output><gtr:publications><gtr:publication><gtr:id>DD9DDF7E-BEA1-4EDD-8F19-E4587418EC38</gtr:id><gtr:title>OpenMP 4.0 vs. OpenCL: Performance comparison</gtr:title><gtr:authors><gtr:author url="http://gtr.ukri.org:80/person/b72fadd2e80ee6c38889715c37df024c"><gtr:id>b72fadd2e80ee6c38889715c37df024c</gtr:id><gtr:otherNames>Vinogradov, S.</gtr:otherNames></gtr:author></gtr:authors><gtr:date>2015-01-01</gtr:date><gtr:outcomeId>56ddad34f21558.16342125</gtr:outcomeId></gtr:publication><gtr:publication><gtr:id>8ABAB1DD-786C-4D54-B246-25D5E029EEFF</gtr:id><gtr:title>Loop Tiling in Large-Scale Stencil Codes at Run-time with OPS</gtr:title><gtr:parentPublicationTitle>IEEE Transactions on Parallel and Distributed Systems</gtr:parentPublicationTitle><gtr:authors><gtr:author url="http://gtr.ukri.org:80/person/14a678e355284efe1e4eb5f5e96036c7"><gtr:id>14a678e355284efe1e4eb5f5e96036c7</gtr:id><gtr:otherNames>Reguly I</gtr:otherNames></gtr:author></gtr:authors><gtr:date>2017-01-01</gtr:date><gtr:outcomeId>5a352c66b91ee0.48561573</gtr:outcomeId></gtr:publication><gtr:publication><gtr:id>0C94595C-AA69-45D2-B311-28CD9FF1F480</gtr:id><gtr:title>The OPS Domain Specific Abstraction for Multi-Block Structured Grid Computations</gtr:title><gtr:parentPublicationTitle>WOLFHPC: Fourth International Workshop on Domain-Specific Languages and High-Level Frameworks for High Performance Computing</gtr:parentPublicationTitle><gtr:authors><gtr:author url="http://gtr.ukri.org:80/person/8b28f52330538a0e6db26bfbfe315209"><gtr:id>8b28f52330538a0e6db26bfbfe315209</gtr:id><gtr:otherNames>Reguly, I.Z.</gtr:otherNames></gtr:author></gtr:authors><gtr:date>2014-01-01</gtr:date><gtr:outcomeId>54647311eb4441.84299133</gtr:outcomeId></gtr:publication><gtr:publication><gtr:id>C86F89FA-E606-42B4-B1FE-D666A1EB7079</gtr:id><gtr:title>Towards Portability for a Compressible Finite-Volume CFD Code</gtr:title><gtr:authors><gtr:author url="http://gtr.ukri.org:80/person/9c7bc495a091e4c401799e29ae4b857e"><gtr:id>9c7bc495a091e4c401799e29ae4b857e</gtr:id><gtr:otherNames>Curran, D.</gtr:otherNames></gtr:author></gtr:authors><gtr:outcomeId>56ddb468e4ee17.96770478</gtr:outcomeId></gtr:publication><gtr:publication><gtr:id>458E7B18-3F37-4D50-8E18-18ADD2DC8E8A</gtr:id><gtr:title>Developing a Future-Proof CFD Code</gtr:title><gtr:authors><gtr:author url="http://gtr.ukri.org:80/person/9c7bc495a091e4c401799e29ae4b857e"><gtr:id>9c7bc495a091e4c401799e29ae4b857e</gtr:id><gtr:otherNames>Curran, D.</gtr:otherNames></gtr:author></gtr:authors><gtr:outcomeId>56ddb4c87539d2.10707433</gtr:outcomeId></gtr:publication></gtr:publications><gtr:identifiers><gtr:identifier type="RCUK">EP/K038486/1</gtr:identifier></gtr:identifiers><gtr:healthCategories/><gtr:researchActivities/><gtr:researchSubjects><gtr:researchSubject><gtr:id>EB5F16BB-2772-4DDE-BD6C-3B7A6914B64C</gtr:id><gtr:percentage>50</gtr:percentage><gtr:text>Info. &amp; commun. Technol.</gtr:text></gtr:researchSubject><gtr:researchSubject><gtr:id>FB535BD0-E265-4C0A-8532-32DCB83A3951</gtr:id><gtr:percentage>50</gtr:percentage><gtr:text>Tools, technologies &amp; methods</gtr:text></gtr:researchSubject></gtr:researchSubjects><gtr:researchTopics><gtr:researchTopic><gtr:id>9EAAD5EA-2E54-4986-942F-2E204958FE29</gtr:id><gtr:percentage>50</gtr:percentage><gtr:text>High Performance Computing</gtr:text></gtr:researchTopic><gtr:researchTopic><gtr:id>01AC56BC-45B4-434D-B015-7C879327F09F</gtr:id><gtr:percentage>50</gtr:percentage><gtr:text>Parallel Computing</gtr:text></gtr:researchTopic></gtr:researchTopics><gtr:rcukProgrammes/></gtr:project></gtr:projectComposition></gtr:projectOverview>